<html><head></head><body style="overflow-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;"><div>import streamlit as st</div><div>import pdfplumber</div><div>import re</div><div><br></div><div>st.set_page_config(page_title="Covenant Loophole Visualizer")</div><div><br></div><div>st.title("üìÑ Covenant Loophole Visualizer")</div><div>st.markdown("Upload a credit agreement PDF to flag potential loopholes in covenants.")</div><div><br></div><div>uploaded_file = st.file_uploader("Upload Credit Agreement", type="pdf")</div><div><br></div><div>if uploaded_file:</div><div>&nbsp; &nbsp; with pdfplumber.open(uploaded_file) as pdf:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; full_text = ""</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for page in pdf.pages:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; full_text += page.extract_text() + "\n"</div><div><br></div><div>&nbsp; &nbsp; st.subheader("üîç Covenant Sections Found")</div><div>&nbsp; &nbsp; covenant_keywords = [</div><div>&nbsp; &nbsp; &nbsp; &nbsp; "restricted payment", "asset sale", "debt incurrence", "investments",</div><div>&nbsp; &nbsp; &nbsp; &nbsp; "dividends", "affiliate transaction", "liens", "EBITDA", "leverage ratio"</div><div>&nbsp; &nbsp; ]</div><div><br></div><div>&nbsp; &nbsp; for keyword in covenant_keywords:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; pattern = re.compile(rf".{{0,100}}{keyword}.{{0,100}}", re.IGNORECASE)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; matches = pattern.findall(full_text)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if matches:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; st.markdown(f"### üî∏ Matches for **{keyword}**:")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for m in matches:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; st.text(m.strip())</div><div>&nbsp; &nbsp; &nbsp; &nbsp; else:</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; st.markdown(f"‚ùå No clear matches for **{keyword}**")</div><div><br></div><div>&nbsp; &nbsp; st.success("Done parsing. You can now copy-paste matches into your own notes.")</div></body></html>